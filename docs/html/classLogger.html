<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DashingPlatforms: Logger Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DashingPlatforms
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classLogger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Logger Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Logger_8h_source.html">Logger.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb668a9e186a25fbaad2e4af6d1ed00a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#acb668a9e186a25fbaad2e4af6d1ed00a">~Logger</a> ()</td></tr>
<tr class="separator:acb668a9e186a25fbaad2e4af6d1ed00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413870d30fad2fcdb8456047ee3e26d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#a413870d30fad2fcdb8456047ee3e26d7">initialize</a> (bool sendOutputToLocal)</td></tr>
<tr class="separator:a413870d30fad2fcdb8456047ee3e26d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab7b3537f39aa51be0da7f9e91c08791d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#ab7b3537f39aa51be0da7f9e91c08791d">traceLog</a> (LogEntrySubSystemType subsystem, LogEntrySeverityType severity, int pid, const char *sourceFile, int sourceLine, const char *p_logMessage, long arg1, long arg2, long arg3, long arg4, long arg5, long arg6)</td></tr>
<tr class="separator:ab7b3537f39aa51be0da7f9e91c08791d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784d10e112e4f1f465048a97a89d8a1d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#a784d10e112e4f1f465048a97a89d8a1d">straceLog</a> (LogEntrySubSystemType subsystem, LogEntrySeverityType severity, int pid, const char *sourceFile, int sourceLine, const char *p_logMessage)</td></tr>
<tr class="separator:a784d10e112e4f1f465048a97a89d8a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aaaf252e237ed402757b57c41386997"><td class="memItemLeft" align="right" valign="top">static LogEntrySeverityType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#a2aaaf252e237ed402757b57c41386997">getSubsystemLogLevel</a> (LogEntrySubSystemType subsystem)</td></tr>
<tr class="separator:a2aaaf252e237ed402757b57c41386997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fbd683a924ffb16c7876d160602cd8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#a53fbd683a924ffb16c7876d160602cd8">setSubsystemLogLevel</a> (LogEntrySubSystemType subsystem, LogEntrySeverityType severityLevel)</td></tr>
<tr class="separator:a53fbd683a924ffb16c7876d160602cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec28ae6d7bdf8f6a0734cb20756de10"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classLogger.html">Logger</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogger.html#afec28ae6d7bdf8f6a0734cb20756de10">getInstance</a> ()</td></tr>
<tr class="separator:afec28ae6d7bdf8f6a0734cb20756de10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classLogger.html">Logger</a> provides the main logging mechanism and API to the developers. </p>
<p>Developers use the Log MACROS to issue logs. These macros hide the API mechanism for enqueuing the logs for output. In this way, the logger subsystem can be transparently modified to send output to a.) stdout, b.) the Linux syslog facility, or even c.) the ACE logger framework without impact to the application developers. </p>
<p>The key goal for implementing and maintaining this logger is to allow applications to issue trace logs with the MINIMAL amount of buffer copying possible. This is the key motivator behind supporting a custom implementation.</p>
<dl class="section rcs"><dt>Author</dt><dd>Stephen Horton</dd></dl>
<dl class="section rcs"><dt>Revision</dt><dd>1</dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acb668a9e186a25fbaad2e4af6d1ed00a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Logger::~Logger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afec28ae6d7bdf8f6a0734cb20756de10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogger.html">Logger</a> * Logger::getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a singleton instance </p>

<p>Referenced by <a class="el" href="classFaultManager.html#a06321519c488763c07c6bf57be51556e">FaultManager::processMailbox()</a>, <a class="el" href="classResourceMonitor.html#a101836c5b839e812464aa4b84242a5e6">ResourceMonitor::toString()</a>, and <a class="el" href="classProcessManager.html#af7842b0734d8eba0713944fc80c39c36">ProcessManager::toString()</a>.</p>

</div>
</div>
<a class="anchor" id="a2aaaf252e237ed402757b57c41386997"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LogEntrySeverityType Logger::getSubsystemLogLevel </td>
          <td>(</td>
          <td class="paramtype">LogEntrySubSystemType&#160;</td>
          <td class="paramname"><em>subsystem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method to retrieve the current logging severity level for a particular subsystem </p><dl class="section return"><dt>Returns</dt><dd>int severityLevel </dd></dl>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a893c031aa43c5a931fbc5bf5a9f504a6">MailboxLookupService::deregisterMailbox()</a>, <a class="el" href="classMailboxLookupService.html#a04a96883cc551682e635924884e433ac">MailboxLookupService::find()</a>, <a class="el" href="classMailboxLookupService.html#a0982492ef6b8cd6a323bc7d94a55247a">MailboxLookupService::getDebugForAllMailboxAddresses()</a>, <a class="el" href="classOSResource.html#a3d5a001b4ce6046431d0fa8dfa82786c">OSResource::initialize()</a>, <a class="el" href="classObjectPool.html#a8a795488aeb97b2d7e43e82fbf7f27b1">ObjectPool::ObjectPool()</a>, <a class="el" href="classMailboxLookupService.html#a982f51643b1bcddee5b4949d637ea798">MailboxLookupService::registerMailbox()</a>, <a class="el" href="classObjectPool.html#a9c8eb89d39afd8f30b94181fea0c9a18">ObjectPool::release()</a>, and <a class="el" href="classObjectPool.html#a2765719206bbe45d887e0bf0cf57715f">ObjectPool::reserve()</a>.</p>

</div>
</div>
<a class="anchor" id="a413870d30fad2fcdb8456047ee3e26d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Logger::initialize </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sendOutputToLocal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform initialization of shared memory queue, etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendOutputToLocal</td><td>If true, output is redirected to local stdout/stderr rather than enqueued for the <a class="el" href="classLogProcessor.html">LogProcessor</a> process. This is for developer debugging. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK on success; otherwise ERROR </dd></dl>

<p>Referenced by <a class="el" href="classFaultManager.html#a06321519c488763c07c6bf57be51556e">FaultManager::processMailbox()</a>, <a class="el" href="classResourceMonitor.html#a101836c5b839e812464aa4b84242a5e6">ResourceMonitor::toString()</a>, and <a class="el" href="classProcessManager.html#af7842b0734d8eba0713944fc80c39c36">ProcessManager::toString()</a>.</p>

</div>
</div>
<a class="anchor" id="a53fbd683a924ffb16c7876d160602cd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Logger::setSubsystemLogLevel </td>
          <td>(</td>
          <td class="paramtype">LogEntrySubSystemType&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LogEntrySeverityType&#160;</td>
          <td class="paramname"><em>severityLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method to set subsystem log severity levels. This method controls the allowable logs output. </p>

<p>References <a class="el" href="classLogger.html#ab7b3537f39aa51be0da7f9e91c08791d">traceLog()</a>.</p>

<p>Referenced by <a class="el" href="classFaultManager.html#a06321519c488763c07c6bf57be51556e">FaultManager::processMailbox()</a>, <a class="el" href="classResourceMonitor.html#a101836c5b839e812464aa4b84242a5e6">ResourceMonitor::toString()</a>, and <a class="el" href="classProcessManager.html#af7842b0734d8eba0713944fc80c39c36">ProcessManager::toString()</a>.</p>

</div>
</div>
<a class="anchor" id="a784d10e112e4f1f465048a97a89d8a1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Logger::straceLog </td>
          <td>(</td>
          <td class="paramtype">LogEntrySubSystemType&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LogEntrySeverityType&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sourceFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sourceLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p_logMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method to handle enqueuing of the log messages </p>
<p>Enqueue a string log message for output (make a copy before inserting in the queue. Memory Management here: p_logMessage gets deleted when the calling method goes out of scope since it was probably a stack variable there. This is why we make a copy of p_logMessage before enqueuing it to our Log Server. The 'logMessage' struct that we create on the first line here will be deleted (including its logMessage buffer&ndash;deleted by its destructor) when this method goes out of scope.</p>
<p>A performance optimization for this logger should be to create pool of logMessage structs on the heap and reuse them: reserve one here and fill its contents, then pass it into the log queue where it gets deleted on the other side once it is output to where-ever. NOTE: this pool should not use <a class="el" href="classOPM.html">OPM</a> (circular dependency). </p>

<p>References <a class="el" href="classLoggerCommon.html#af55953414e2187b4fab159fd96c01554">LoggerCommon::formatLogMessage()</a>, <a class="el" href="structLogMessage.html#a2deae6c7b68d84b09f5b077a8006ce3d">LogMessage::isStringLog</a>, <a class="el" href="structLogMessage.html#a81a4226369aa000771cdd51da9f7e19c">LogMessage::logMessage</a>, <a class="el" href="structLogMessage.html#afe1eebdbc14335eb03fe64e5fa338774">LogMessage::logMessagePI</a>, <a class="el" href="structLogMessage.html#ad436083214cabf673c173a23c0a4029f">LogMessage::pid</a>, <a class="el" href="structLogMessage.html#ad6f05455e82eb9ca3a7549d44a16b993">LogMessage::sequenceId</a>, <a class="el" href="structLogMessage.html#ac2e0c3f6ad92f879e98e0b54c9474d30">LogMessage::severityLevel</a>, <a class="el" href="structLogMessage.html#a149e34d4378f939eea8d72fc1b1548f9">LogMessage::sourceFile</a>, <a class="el" href="structLogMessage.html#a36c25d6066af276c23b3ce120dc2fcae">LogMessage::sourceFilePI</a>, <a class="el" href="structLogMessage.html#a35446a13522b100e02f1652d9bda5538">LogMessage::sourceLine</a>, <a class="el" href="structLogMessage.html#a89f21f82971d2313256689e176e53870">LogMessage::subsystem</a>, <a class="el" href="structLogMessage.html#aca760ef27907fa27358c73584bfac941">LogMessage::timeStamp</a>, and <a class="el" href="classLoggerCommon.html#ae936c542515e208f9970b58398713226">LoggerCommon::wrapFormattedLogText()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7b3537f39aa51be0da7f9e91c08791d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Logger::traceLog </td>
          <td>(</td>
          <td class="paramtype">LogEntrySubSystemType&#160;</td>
          <td class="paramname"><em>subsystem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LogEntrySeverityType&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sourceFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sourceLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p_logMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>arg2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>arg3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>arg4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>arg5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>arg6</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method to handle enqueuing of the log messages. </p>
<p>Enqueue a log message for output Memory Management here: p_logMessage is assumed to be statically allocated memory when this method is used (printf style formatting arguments are passed in as well). For this reason, we only need to make a copy of the buffer for shared memory allocation. The 'logMessage' struct that we create on the first line here will be deleted (including its logMessage buffer&ndash;deleted by its destructor) when this method goes out of scope.</p>
<p>A performance optimization for this logger should be to create pool of logMessage structs on the heap and reuse them: reserve one here and fill its contents, then pass it into the log queue where it gets deleted on the other side once it is output to where-ever. NOTE: this pool should not use <a class="el" href="classOPM.html">OPM</a> (circular dependency). </p>

<p>References <a class="el" href="structLogMessage.html#a56caf084416bd4d99429ddb88cc2ee38">LogMessage::arg1</a>, <a class="el" href="classLoggerCommon.html#af55953414e2187b4fab159fd96c01554">LoggerCommon::formatLogMessage()</a>, <a class="el" href="structLogMessage.html#a2deae6c7b68d84b09f5b077a8006ce3d">LogMessage::isStringLog</a>, <a class="el" href="structLogMessage.html#a81a4226369aa000771cdd51da9f7e19c">LogMessage::logMessage</a>, <a class="el" href="structLogMessage.html#afe1eebdbc14335eb03fe64e5fa338774">LogMessage::logMessagePI</a>, <a class="el" href="structLogMessage.html#ad436083214cabf673c173a23c0a4029f">LogMessage::pid</a>, <a class="el" href="structLogMessage.html#ad6f05455e82eb9ca3a7549d44a16b993">LogMessage::sequenceId</a>, <a class="el" href="structLogMessage.html#ac2e0c3f6ad92f879e98e0b54c9474d30">LogMessage::severityLevel</a>, <a class="el" href="structLogMessage.html#a149e34d4378f939eea8d72fc1b1548f9">LogMessage::sourceFile</a>, <a class="el" href="structLogMessage.html#a36c25d6066af276c23b3ce120dc2fcae">LogMessage::sourceFilePI</a>, <a class="el" href="structLogMessage.html#a35446a13522b100e02f1652d9bda5538">LogMessage::sourceLine</a>, <a class="el" href="structLogMessage.html#a89f21f82971d2313256689e176e53870">LogMessage::subsystem</a>, <a class="el" href="structLogMessage.html#aca760ef27907fa27358c73584bfac941">LogMessage::timeStamp</a>, and <a class="el" href="classLoggerCommon.html#ae936c542515e208f9970b58398713226">LoggerCommon::wrapFormattedLogText()</a>.</p>

<p>Referenced by <a class="el" href="classLogger.html#a53fbd683a924ffb16c7876d160602cd8">setSubsystemLogLevel()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Logger_8h_source.html">Logger.h</a></li>
<li>Logger.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
