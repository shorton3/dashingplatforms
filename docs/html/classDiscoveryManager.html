<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DashingPlatforms: DiscoveryManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DashingPlatforms
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classDiscoveryManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DiscoveryManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed0e13d6e72ab0b0595c47682a33f1a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#aed0e13d6e72ab0b0595c47682a33f1a0">DiscoveryManager</a> ()</td></tr>
<tr class="separator:aed0e13d6e72ab0b0595c47682a33f1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b24a0aceacc21190a39c6052c5143e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#a46b24a0aceacc21190a39c6052c5143e">~DiscoveryManager</a> ()</td></tr>
<tr class="separator:a46b24a0aceacc21190a39c6052c5143e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ede1f7bdf5e15ae869dfd34294f0ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#ab4ede1f7bdf5e15ae869dfd34294f0ba">initialize</a> ()</td></tr>
<tr class="separator:ab4ede1f7bdf5e15ae869dfd34294f0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad298a98899cb55f659f9bd4fcfacb2b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#ad298a98899cb55f659f9bd4fcfacb2b5">registerForDiscoveryUpdates</a> (vector&lt; <a class="el" href="structMailboxAddress.html">MailboxAddress</a> &gt; &amp;currentlyRegisteredAddresses, <a class="el" href="structMailboxAddress.html">MailboxAddress</a> &amp;matchCriteria, <a class="el" href="classMailboxOwnerHandle.html">MailboxOwnerHandle</a> *mailboxToNotify)</td></tr>
<tr class="separator:ad298a98899cb55f659f9bd4fcfacb2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72976ec911ad5f6d6dadbf6a08194ff2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#a72976ec911ad5f6d6dadbf6a08194ff2">deregisterForDiscoveryUpdates</a> (<a class="el" href="classMailboxOwnerHandle.html">MailboxOwnerHandle</a> *mailboxToNotify)</td></tr>
<tr class="separator:a72976ec911ad5f6d6dadbf6a08194ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2639330443e70d8c6acfa7794225b3f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#a2639330443e70d8c6acfa7794225b3f6">registerLocalAddress</a> (<a class="el" href="structMailboxAddress.html">MailboxAddress</a> &amp;localRemoteTypeAddress)</td></tr>
<tr class="separator:a2639330443e70d8c6acfa7794225b3f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ffe28660fc54012599c22d52208554"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#ac7ffe28660fc54012599c22d52208554">deregisterLocalAddress</a> (<a class="el" href="structMailboxAddress.html">MailboxAddress</a> &amp;localRemoteTypeAddress)</td></tr>
<tr class="separator:ac7ffe28660fc54012599c22d52208554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd229bdb52456987c057c70fbdaf158"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#a7dd229bdb52456987c057c70fbdaf158">listAllMailboxAddresses</a> ()</td></tr>
<tr class="separator:a7dd229bdb52456987c057c70fbdaf158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283c87c3116b5ad99604af150a99cb65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscoveryManager.html#a283c87c3116b5ad99604af150a99cb65">processMailbox</a> ()</td></tr>
<tr class="separator:a283c87c3116b5ad99604af150a99cb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aed0e13d6e72ab0b0595c47682a33f1a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DiscoveryManager::DiscoveryManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p>

<p>References <a class="el" href="classSystemInfo.html#a521f28d89c6ec990588b49113c49043d">SystemInfo::getLocalNEID()</a>, <a class="el" href="structMailboxAddress.html#a4d32eca5b378e19a34741c3cf1819550">MailboxAddress::inetAddress</a>, <a class="el" href="structMailboxAddress.html#a817e06f2b7c74bb6a21f4e37b9c5df40">MailboxAddress::locationType</a>, <a class="el" href="structMailboxAddress.html#acb8f28e5a72f7ec0804e1e4489523a06">MailboxAddress::mailboxName</a>, and <a class="el" href="structMailboxAddress.html#a8bb14b82e31280b3e0377686c08813f4">MailboxAddress::neid</a>.</p>

</div>
</div>
<a class="anchor" id="a46b24a0aceacc21190a39c6052c5143e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DiscoveryManager::~DiscoveryManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Virtual Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a72976ec911ad5f6d6dadbf6a08194ff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DiscoveryManager::deregisterForDiscoveryUpdates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMailboxOwnerHandle.html">MailboxOwnerHandle</a> *&#160;</td>
          <td class="paramname"><em>mailboxToNotify</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows mailboxes to deregister for Discovery Update notifications </p><dl class="section return"><dt>Returns</dt><dd>OK upon success; otherwise ERROR </dd></dl>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a893c031aa43c5a931fbc5bf5a9f504a6">MailboxLookupService::deregisterMailbox()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7ffe28660fc54012599c22d52208554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DiscoveryManager::deregisterLocalAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMailboxAddress.html">MailboxAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>localRemoteTypeAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the local registration of a remote type Non-Proxy <a class="el" href="structMailboxAddress.html">MailboxAddress</a>. This will facilitate a discovery DEREGISTER update being sent to all other DiscoveryManagers. </p><dl class="section return"><dt>Returns</dt><dd>OK upon successful registration; otherwise ERROR </dd></dl>

<p>References <a class="el" href="classMailboxOwnerHandle.html#a3ca30a36ac12cf8da4d2a43b53e08d1f">MailboxOwnerHandle::post()</a>.</p>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a893c031aa43c5a931fbc5bf5a9f504a6">MailboxLookupService::deregisterMailbox()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4ede1f7bdf5e15ae869dfd34294f0ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DiscoveryManager::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform initialization of Discovery Manager which communicates mailbox updates between distributed nodes. </p><dl class="section return"><dt>Returns</dt><dd>OK upon success; otherwise ERROR </dd></dl>

<p>References <a class="el" href="classMailboxOwnerHandle.html#a03b5a1020ae3c9349d27096faeca7485">MailboxOwnerHandle::activate()</a>, <a class="el" href="classMessageHandlerList.html#a4ba23502f349db4353e725a81de1d8e9">MessageHandlerList::add()</a>, <a class="el" href="classGroupMailbox.html#a2c557e67a0ddc8518623d9cedcaa283f">GroupMailbox::createMailbox()</a>, <a class="el" href="classDiscoveryMessage.html#ae76860a9afec759af6545aabd75a7adb">DiscoveryMessage::deserialize()</a>, and <a class="el" href="classMessageFactory.html#a8d4f06fb7053776fa46c953a8d1e96e4">MessageFactory::registerSupport()</a>.</p>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a82138b36a836f680ef5d82a6f7373549">MailboxLookupService::initializeDiscoveryManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a7dd229bdb52456987c057c70fbdaf158"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiscoveryManager::listAllMailboxAddresses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display a list of all the registered remote type Non-Proxy mailbox addresses This method displays its output in trace logs. </p>

<p>References <a class="el" href="classMailboxOwnerHandle.html#a3ca30a36ac12cf8da4d2a43b53e08d1f">MailboxOwnerHandle::post()</a>.</p>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a773065f3c76858bb3727f9e11a265ee9">MailboxLookupService::listAllMailboxAddresses()</a>.</p>

</div>
</div>
<a class="anchor" id="a283c87c3116b5ad99604af150a99cb65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiscoveryManager::processMailbox </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the mailbox processing loop </p>

<p>References <a class="el" href="classMailboxOwnerHandle.html#a03b5a1020ae3c9349d27096faeca7485">MailboxOwnerHandle::activate()</a>, <a class="el" href="classGroupMailboxProxy.html#a8069da98373d7faa9a702565bd5c2afe">GroupMailboxProxy::createMailbox()</a>, <a class="el" href="classDiscoveryMessage.html#a7a78388064fe97844b531014bf016409">DiscoveryMessage::getDiscoveryAddress()</a>, <a class="el" href="classDiscoveryLocalMessage.html#ae9e7e0165df5b5bd223d92101925b50d">DiscoveryLocalMessage::getDiscoveryAddress()</a>, <a class="el" href="classDiscoveryMessage.html#a7027d866945417ea159a59a32aa6b0bd">DiscoveryMessage::getOperationType()</a>, <a class="el" href="classDiscoveryLocalMessage.html#aee363ebc41915eef8f67ee809c0a1c75">DiscoveryLocalMessage::getOperationType()</a>, <a class="el" href="classDiscoveryMessage.html#a2bcbf6451d657d7ae514ba642f331772">DiscoveryMessage::getOriginatingPID()</a>, <a class="el" href="classMessageBase.html#a948ea4961041fa6031b6a071babb8ba3">MessageBase::getSourceAddress()</a>, <a class="el" href="structMailboxAddress.html#a6ab5f65859ab13cdbb4245c1dc49a0f4">MailboxAddress::isMatchingAddress()</a>, <a class="el" href="classMailboxOwnerHandle.html#a3ca30a36ac12cf8da4d2a43b53e08d1f">MailboxOwnerHandle::post()</a>, <a class="el" href="classMailboxProcessor.html#a464c9e9eb3df8dd68a72df4b37a61b0f">MailboxProcessor::processMailbox()</a>, <a class="el" href="classMailboxOwnerHandle.html#aed6857e45359815e4df8bc537fbcc3ac">MailboxOwnerHandle::setDebugValue()</a>, <a class="el" href="classDiscoveryLocalMessage.html#ab31c4b11d9381989006819ab0463f27b">DiscoveryLocalMessage::toString()</a>, <a class="el" href="classDiscoveryMessage.html#aee9ec66013b69b35b672679e91d4118c">DiscoveryMessage::toString()</a>, and <a class="el" href="structMailboxAddress.html#aff1473fce573e821cb4d9f42108328dd">MailboxAddress::toString()</a>.</p>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a0982492ef6b8cd6a323bc7d94a55247a">MailboxLookupService::getDebugForAllMailboxAddresses()</a>.</p>

</div>
</div>
<a class="anchor" id="ad298a98899cb55f659f9bd4fcfacb2b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DiscoveryManager::registerForDiscoveryUpdates </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="structMailboxAddress.html">MailboxAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>currentlyRegisteredAddresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMailboxAddress.html">MailboxAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>matchCriteria</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMailboxOwnerHandle.html">MailboxOwnerHandle</a> *&#160;</td>
          <td class="paramname"><em>mailboxToNotify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows mailboxes to register for Discovery Update notifications. If a <a class="el" href="classDiscoveryMessage.html">DiscoveryMessage</a> update is received whose discovery Mailbox Address matches that of the matchCriteria, then a copy of the <a class="el" href="classDiscoveryMessage.html">DiscoveryMessage</a> is posted to the mailboxToNotify. The caller is required to pre-allocate a vector of MailboxAddresses which will be populated with 'already-discovered' MailboxAddresses and returned. </p>
<p>Note that current there is no support for a user-initiated deregistration mechanism. This is because the discovery update mechanism should not be used as a substitute for IPC between nodes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matchCriteria</td><td><a class="el" href="structMailboxAddress.html">MailboxAddress</a> object used to determine which discovery Mailbox Addresses match what the application wants to be notified about. NOTE: The calling application should leave all fields default except those that the caller wished to be used in the match comparison. For example, if the caller wants to be notified when any Mailboxes with the MailboxName 'CallProcessor' are discovered, the matchCriteria field 'MailboxName' will be set to 'CallProcessor' and all other fields left as the default. </td></tr>
    <tr><td class="paramname">mailboxToNotify</td><td><a class="el" href="classMailboxOwnerHandle.html">MailboxOwnerHandle</a> of the mailbox that will receive the <a class="el" href="classDiscoveryMessage.html">DiscoveryMessage</a> notification when an update is received. This mailbox must provide a MessageHandler method for the Discovery Message id (MSGMGR_DISCOVERY_MSG_ID) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK upon successful registration; otherwise ERROR </dd></dl>

<p>References <a class="el" href="structMailboxAddress.html#a6ab5f65859ab13cdbb4245c1dc49a0f4">MailboxAddress::isMatchingAddress()</a>.</p>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#af2daa9911e9bce7c040f3b57615b5ca2">MailboxLookupService::registerForDiscoveryUpdates()</a>.</p>

</div>
</div>
<a class="anchor" id="a2639330443e70d8c6acfa7794225b3f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DiscoveryManager::registerLocalAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMailboxAddress.html">MailboxAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>localRemoteTypeAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add local registration of a remote type Non-Proxy Mailbox Address. This will facilitate a discovery REGISTER update being sent to all other DiscoveryManagers </p><dl class="section return"><dt>Returns</dt><dd>OK upon successful registration; otherwise ERROR </dd></dl>

<p>References <a class="el" href="classMailboxOwnerHandle.html#a3ca30a36ac12cf8da4d2a43b53e08d1f">MailboxOwnerHandle::post()</a>.</p>

<p>Referenced by <a class="el" href="classMailboxLookupService.html#a982f51643b1bcddee5b4949d637ea798">MailboxLookupService::registerMailbox()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DiscoveryManager_8h_source.html">DiscoveryManager.h</a></li>
<li>DiscoveryManager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
