<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DashingPlatforms: OSResource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DashingPlatforms
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOSResource-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OSResource Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="OSResource_8h_source.html">OSResource.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad1d2d809528b66aab67eb20301849831"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSResource.html#ad1d2d809528b66aab67eb20301849831">OSResource</a> ()</td></tr>
<tr class="separator:ad1d2d809528b66aab67eb20301849831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8537c46082b3e1a159ffb24235dd8d6b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSResource.html#a8537c46082b3e1a159ffb24235dd8d6b">~OSResource</a> ()</td></tr>
<tr class="separator:a8537c46082b3e1a159ffb24235dd8d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5a001b4ce6046431d0fa8dfa82786c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSResource.html#a3d5a001b4ce6046431d0fa8dfa82786c">initialize</a> ()</td></tr>
<tr class="separator:a3d5a001b4ce6046431d0fa8dfa82786c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cc54b9fe818967b4327ae03f1f22b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSResource.html#a81cc54b9fe818967b4327ae03f1f22b0">checkDiskUsage</a> ()</td></tr>
<tr class="separator:a81cc54b9fe818967b4327ae03f1f22b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e002cee5aedf02e39960b760263f65b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSResource.html#a1e002cee5aedf02e39960b760263f65b">checkCPUUsage</a> ()</td></tr>
<tr class="separator:a1e002cee5aedf02e39960b760263f65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421330f1e4ddbfbcde386d3d84e5365b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSResource.html#a421330f1e4ddbfbcde386d3d84e5365b">checkMemoryUsage</a> ()</td></tr>
<tr class="separator:a421330f1e4ddbfbcde386d3d84e5365b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classOSResource.html">OSResource</a> provides the mechanisms for monitoring OS-controlled resources including Memory, CPU, and Disk usages. </p>
<p>With regard to measuring CPU usage on Linux: Linux provides cumulative counts for the number of jiffies spent in user, nice, system, and idle CPU mode since the system was booted, or since the jiffy count last wrapped round. A jiffy is a proverbial short amount of time, which is 1/100 second on most CPUs (1/1024 on Alphas). </p>
<p>The four jiffy counts are given in the /proc/stat file, on a line beginning with the word cpu. On multiprocessor systems, the counts are given for each cpu, each on a line beginning with the word cpun, where n is the zero-based CPU number, and the line starting with cpu contains the sums for all processors. </p>
<p>The duration of a jiffy, and the cumulative number of jiffies, are not much use to us; what is important is the number of jiffies spent in each mode since the last time we had a look. We calculate the differences for each of the modes, and express each difference as a percentage of the total difference. </p>
<p>For measuring memory usage, we inspect the fields taken from /proc/meminfo. Note that this calculation should agree with the output of the 'free' utility (2nd output line). The calculations are as follows: Memory Used = MemTotal - MemFree - Buffers - Cached Also perform Swap calculation: Swap Used = SwapTotal - SwapFree - SwapCached </p>
<p>Disk usage values are gathered by comparing /etc/fstab with the output from the statfs library call. </p>
<dl class="section rcs"><dt>Author</dt><dd>Stephen Horton</dd></dl>
<dl class="section rcs"><dt>Revision</dt><dd>1</dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad1d2d809528b66aab67eb20301849831"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSResource::OSResource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p>

</div>
</div>
<a class="anchor" id="a8537c46082b3e1a159ffb24235dd8d6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OSResource::~OSResource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Virtual Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1e002cee5aedf02e39960b760263f65b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OSResource::checkCPUUsage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check CPU usage based on statistics in the Linux proc filesystem </p><dl class="section return"><dt>Returns</dt><dd>ERROR upon failure; otherwise OK </dd></dl>
<p>Could use NEID as the managed object instance?? </p>

<p>References <a class="el" href="classSystemInfo.html#a521f28d89c6ec990588b49113c49043d">SystemInfo::getLocalNEID()</a>.</p>

<p>Referenced by <a class="el" href="classResourceMonitor.html#a101836c5b839e812464aa4b84242a5e6">ResourceMonitor::toString()</a>.</p>

</div>
</div>
<a class="anchor" id="a81cc54b9fe818967b4327ae03f1f22b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OSResource::checkDiskUsage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check disk usage for all detected filesystem partitions </p><dl class="section return"><dt>Returns</dt><dd>ERROR upon failure; otherwise OK </dd></dl>

<p>References <a class="el" href="classSystemInfo.html#a521f28d89c6ec990588b49113c49043d">SystemInfo::getLocalNEID()</a>.</p>

<p>Referenced by <a class="el" href="classResourceMonitor.html#a101836c5b839e812464aa4b84242a5e6">ResourceMonitor::toString()</a>.</p>

</div>
</div>
<a class="anchor" id="a421330f1e4ddbfbcde386d3d84e5365b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OSResource::checkMemoryUsage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check memory usage based on statistics in the Linux proc filesystem </p><dl class="section return"><dt>Returns</dt><dd>ERROR upon failure; otherwise OK </dd></dl>
<p>Could use NEID as the managed object instance?? </p>

<p>References <a class="el" href="classSystemInfo.html#a521f28d89c6ec990588b49113c49043d">SystemInfo::getLocalNEID()</a>.</p>

<p>Referenced by <a class="el" href="classResourceMonitor.html#a101836c5b839e812464aa4b84242a5e6">ResourceMonitor::toString()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d5a001b4ce6046431d0fa8dfa82786c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OSResource::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the structures for tracking resource usage </p><dl class="section return"><dt>Returns</dt><dd>ERROR upon failure; otherwise OK </dd></dl>

<p>References <a class="el" href="classDbConnectionHandle.html#a630020d981c9e07950ef14b7120d5fdb">DbConnectionHandle::closeCommandResult()</a>, <a class="el" href="classDbConnectionHandle.html#a536dd746c61d6488af96964cd9f2de34">DbConnectionHandle::executeCommand()</a>, <a class="el" href="classDbConnectionHandle.html#ac05cd8352f2ff4d8fc961dfbb399c767">DbConnectionHandle::getColumnCount()</a>, <a class="el" href="classDbConnectionHandle.html#ab9f18ef37d62b4273240eb7fb2545a33">DbConnectionHandle::getColumnIndex()</a>, <a class="el" href="classDbConnectionHandle.html#abb00326ff343b5565887ecd350bf1194">DbConnectionHandle::getIntValueAt()</a>, <a class="el" href="classDbConnectionHandle.html#a27ff715c54a5f91d0462e0b1250d52c5">DbConnectionHandle::getRowCount()</a>, <a class="el" href="classDbConnectionHandle.html#a622a36a74a2761756c3b2544508a6878">DbConnectionHandle::getShortValueAt()</a>, <a class="el" href="classLogger.html#a2aaaf252e237ed402757b57c41386997">Logger::getSubsystemLogLevel()</a>, <a class="el" href="classDataManager.html#a0ea951bb2bb1db77965f7625549d9ab2">DataManager::releaseConnection()</a>, and <a class="el" href="classDataManager.html#a686c287dbe16fad94f62abc5834281ee">DataManager::reserveConnection()</a>.</p>

<p>Referenced by <a class="el" href="classResourceMonitor.html#a64f01887447b742b08184891ca06e5c2">ResourceMonitor::initialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="OSResource_8h_source.html">OSResource.h</a></li>
<li>OSResource.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
